# CLI Bot - Personal Assistant

CLI-бот для управління контактами та нотатками з інтерактивним інтерфейсом командного рядка.

## Опис

Цей проект реалізує CLI-бот, який дозволяє користувачам:

- **Управляти контактами**: додавати, редагувати, видаляти, шукати контакти з телефоном, email, датою народження та адресою
- **Управляти нотатками**: створювати, редагувати, видаляти нотатки з тегами, шукати та сортувати за тегами
- **Інтерактивний режим**: багато команд підтримують інтерактивне введення даних

Дані зберігаються локально у файлах з використанням протоколу pickle для серіалізації.

## Встановлення

### Вимоги

- Python 3.8 або вище
- pip (менеджер пакетів Python)

### Встановлення як Python-пакет

1. Клонуйте репозиторій:

```bash
git clone <repository-url>
cd goit-pycore-project
```

2. Встановіть залежності:

```bash
pip install -r requirements.txt
```

3. Встановіть проект як пакет:

```bash
pip install -e .
```

Після встановлення запускайте бот командою:

```bash
python -m main
```

Це працює з будь-якого місця системи одразу після встановлення.

### Встановлення без пакету (для розробки)

Якщо ви не хочете встановлювати проект як пакет, просто встановіть залежності та запускайте напряму:

```bash
pip install -r requirements.txt
python main.py
```

## Використання

### Запуск

Після встановлення як пакет:

```bash
python -m main
```

Для локального запуску без встановлення:

```bash
python main.py
```

Після запуску ви побачите привітання:

```
Hello! This is CLI bot. Please enter command.
Type 'help' for available commands list
>
```

### Основні команди

#### Довідка

- `help` - показати список всіх доступних команд

#### Вихід

- `exit` або `close` - завершити роботу бота

### Команди для роботи з контактами

#### Додавання контакту

- `add_contact <name>` - додати новий контакт (інтерактивний режим)
  - Запитує: телефон, email, дату народження, адресу
  - Приклад: `add_contact Ivan`

#### Редагування контакту

- `change_contact <name>` - редагувати існуючий контакт (інтерактивний режим)
  - Показує поточні дані та пропонує змінити кожне поле
  - Для пропуску поля введіть `-skip` або натисніть Enter
  - Приклад: `change_contact Ivan`

#### Пошук контактів

- `search_contact <field> <value>` - пошук контактів за полем

  - Поля: name, phone, email, dob, addr
  - Приклад: `search_contact name Ivan`

- `get_contact <name>` - отримати контакт за ім'ям
  - Приклад: `get_contact Ivan`

#### Перегляд контактів

- `all_contacts` - показати всі контакти

#### Видалення контактів

- `del_contact <name>` - видалити контакт за ім'ям
- `del_last_contact` - видалити останній доданий контакт

#### Дні народження

- `upcoming_birthdays <days>` - показати дні народження на найближчі N днів
  - Приклад: `upcoming_birthdays 7`

### Команди для роботи з нотатками

#### Додавання нотатки

- `add_note` - створити нотатку (повний інтерактивний режим)
  - Запитує: title, content, tags
- `add_note <title>` - створити нотатку з заданим title (частковий інтерактивний режим)
  - Запитує: content, tags
- `add_note <title> <content> [tags]` - створити нотатку без інтерактивного режиму
  - Приклад: `add_note "Shopping List" "Buy milk, bread" "shopping, urgent"`

#### Перегляд нотаток

- `show_note <title>` - показати повну інформацію про нотатку
  - Пошук регістронезалежний
  - Приклад: `show_note shopping`
- `list_notes` - показати список всіх нотаток

#### Редагування нотатки

- `edit_note` - редагувати нотатку (повний інтерактивний режим)
  - Запитує title для пошуку, потім пропонує змінити всі поля
- `edit_note <title>` - редагувати нотатку (частковий інтерактивний режим)
  - Знаходить нотатку та пропонує змінити title, content, tags
  - Для пропуску поля натисніть Enter
  - Приклад: `edit_note Shopping`
- `edit_note <title> <new_content> [new_tags]` - редагувати без інтерактивного режиму
  - Приклад: `edit_note Shopping "Updated list" "shopping, done"`

#### Видалення нотатки

- `delete_note <title>` - видалити нотатку
  - Приклад: `delete_note Shopping`

#### Робота з тегами

- `add_tags <title> <tags>` - додати теги до нотатки
  - Теги можна вводити через кому або пробіл
  - Приклад: `add_tags Shopping "urgent, important"`
- `remove_tags <title> <tags>` - видалити теги з нотатки
  - Приклад: `remove_tags Shopping "urgent"`

#### Пошук за тегами

- `search_notes_by_tag <tag>` - знайти всі нотатки з вказаним тегом
  - Приклад: `search_notes_by_tag shopping`
- `search_notes_by_tags <tags> [--all]` - знайти нотатки за кількома тегами
  - Без `--all`: знаходить нотатки з будь-яким з тегів (OR)
  - З `--all`: знаходить нотатки з усіма тегами (AND)
  - Теги можна вводити через кому або пробіл
  - Приклади:
    - `search_notes_by_tags shopping urgent` (OR)
    - `search_notes_by_tags shopping urgent --all` (AND)

#### Сортування за тегами

- `sort_notes_by_tag <tag>` - показати нотатки з тегом, відсортовані за датою модифікації
  - Приклад: `sort_notes_by_tag shopping`

#### Перегляд тегів

- `list_all_tags` - показати всі теги з кількістю нотаток

## Структура проекту

```
goit-pycore-project/
├── main.py              # Точка входу програми
├── commands.py          # Обробка команд та інтеграція модулів
├── contactbook.py       # Модуль для роботи з контактами
├── notes.py             # Модуль для роботи з нотатками
├── config.py            # Конфігураційні параметри
├── requirements.txt     # Залежності проекту
├── setup.py             # Конфігурація для встановлення як пакет
├── storage/             # Директорія для збереження даних
│   ├── phonebook.pkl    # Файл з контактами (pickle)
│   └── notes.pkl        # Файл з нотатками (pickle)
└── tests/               # Тести
    ├── conftest.py
    ├── test_bot_commands.py
    ├── test_contacts.py
    └── test_notes.py
```

## Особливості

### Інтерактивний режим

Багато команд підтримують інтерактивний режим, де бот послідовно запитує необхідні дані:

- При додаванні контакту: телефон → email → дата народження → адреса
- При редагуванні: показує поточні значення та пропонує змінити
- Для пропуску поля введіть `-skip` або натисніть Enter

### Валідація даних

Проект включає валідацію введених даних:

- **Телефони**: формат `+380987654321`
- **Email**: стандартний формат email
- **Дата народження**: формат `YYYY.MM.DD`
- **Теги**: максимум 20 символів кожен
- **Title нотаток**: максимум 100 символів

### Збереження даних

Всі дані зберігаються локально у файлах:

- Контакти: `storage/phonebook.pkl`
- Нотатки: `storage/notes.pkl`

Використовується протокол pickle для серіалізації Python-об'єктів.

### Пошук та підказки

- При некоректній команді бот пропонує схожі команди
- Пошук нотаток за title регістронезалежний
- Підтримка пошуку за частиною назви

## Розробка

### Запуск тестів

```bash
pytest
```

### Перевірка коду (flake8)

```bash
flake8 .
```

## Залежності

Основні залежності:

- `colorama` - кольоровий вивід у консолі
- `Levenshtein` - обчислення відстані для підказок команд
- `pytest` - для тестування

Повний список дивіться у `requirements.txt`.

## Ліцензія

Не потрібна

## Автори

- Тарас Дарага
- Ірина Костромицька
- Віталій Мусієнко
  -Віталій Ковалевський
